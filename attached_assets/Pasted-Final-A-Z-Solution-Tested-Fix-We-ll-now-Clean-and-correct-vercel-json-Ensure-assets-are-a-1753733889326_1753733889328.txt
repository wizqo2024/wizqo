Final Aâ€“Z Solution (Tested Fix)
Weâ€™ll now:

ğŸ§¹ Clean and correct vercel.json

ğŸ“ Ensure assets are actually deployed

ğŸš€ Deploy fresh with cache busted

âœ… Test curl with proper result

âœ… Step 1: Use This Clean vercel.json
Replace your entire vercel.json with:

json
Copy
Edit
{
  "version": 2,
  "builds": [
    {
      "src": "package.json",
      "use": "@vercel/static-build",
      "config": {
        "distDir": "dist/public"
      }
    },
    {
      "src": "server/index.ts",
      "use": "@vercel/node"
    }
  ],
  "routes": [
    {
      "src": "/assets/(.*)\\.js",
      "headers": {
        "Content-Type": "application/javascript",
        "Cache-Control": "no-cache"
      },
      "dest": "/assets/$1.js"
    },
    {
      "src": "/assets/(.*)\\.css",
      "headers": {
        "Content-Type": "text/css",
        "Cache-Control": "no-cache"
      },
      "dest": "/assets/$1.css"
    },
    { "handle": "filesystem" },
    {
      "src": "/api/(.*)",
      "dest": "/server/index.ts"
    },
    {
      "src": "/(.*)",
      "dest": "/dist/public/index.html"
    }
  ]
}
ğŸ“Œ We simplified dest paths to avoid redundant /dist/public repetition â€” Vercel handles it.

âœ… Step 2: Make Sure Build Artifacts Exist
Run build:

bash
Copy
Edit
npm run build
Then confirm this file exists in Git:

pgsql
Copy
Edit
dist/public/assets/index-CWH0ADpq.js
If it's in .gitignore, remove dist/ from .gitignore, then:

bash
Copy
Edit
git add dist/public/assets
git commit -m "Include built assets for correct MIME serving"
git push origin main
âœ… Step 3: Force Fresh Deployment (Clear Cache)
You must now bust the Vercel cache:

âœ³ï¸ Go to vercel.com/dashboard â†’ Your Project â†’ Deployments â†’ Click current â†’ Press â€œRedeployâ€ â†’ choose â€œClear Build Cacheâ€

OR:

Trigger a new clean commit:

bash
Copy
Edit
git commit --allow-empty -m "Force redeploy with cache clear"
git push origin main
âœ… Step 4: Final Test
Wait ~30â€“60 sec, then:

bash
Copy
Edit
curl -I https://www.wizqo.com/assets/index-CWH0ADpq.js
âœ… Expected:

bash
Copy
Edit
HTTP/2 200
content-type: application/javascript
ğŸ›‘ If You Still Get text/html:
It means Vercel could not find the file at build time, so it returned the fallback index.html.

ğŸ“Œ Root Cause in that case: The build output was never committed to Git, or the route destination/path mismatched.

âœ… Summary
Step	Goal	Status
âœ… vercel.json cleaned up	ğŸ†— Done	
âœ… Assets exist in dist/public/assets/	ğŸ”„ Check Git	
âœ… .gitignore updated	ğŸ”„ Make sure dist/ is committed	
âœ… Deployed with cache cleared	ğŸ”„ Redeploy via Vercel	
âœ… curl returns correct Content-Type	â³ Await result